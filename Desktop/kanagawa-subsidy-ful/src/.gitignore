{
  "entities": {
    "Subsidy": {
      "$schema": "[http://json-schema.org/draft-07/schema#](http://json-schema.org/draft-07/schema#)",
      "title": "Subsidy",
      "type": "object",
      "description": "Represents a subsidy or grant available in Kanagawa Prefecture.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Subsidy entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the subsidy or grant."
        },
        "source_url": {
          "type": "string",
          "description": "The URL of the source document for the subsidy information.",
          "format": "uri"
        },
        "deadline": {
          "type": "string",
          "description": "The deadline for applying for the subsidy.",
          "format": "date-time"
        },
        "processed_date": {
          "type": "string",
          "description": "The date when the subsidy information was processed.",
          "format": "date-time"
        },
        "industry_tags": {
          "type": "array",
          "description": "An array of industry tags associated with the subsidy.",
          "items": {
            "type": "string"
          }
        },
        "summary_for_client": {
          "type": "object",
          "description": "The summary of the subsidy tailored for clients.",
          "properties": {
            "catchphrase": {
              "type": "string"
            },
            "merit": {
              "type": "string"
            },
            "target": {
              "type": "string"
            },
            "amount": {
              "type": "string"
            },
            "deadline": {
              "type": "string"
            }
          },
          "required": [
            "catchphrase",
            "merit",
            "target",
            "amount",
            "deadline"
          ]
        },
        "summary_for_accountant": {
          "type": "object",
          "description": "The summary of the subsidy tailored for accountants.",
          "properties": {
            "overview": {
              "type": "string"
            },
            "requirements": {
              "type": "string"
            },
            "expenses": {
              "type": "string"
            },
            "pitfalls": {
              "type": "string"
            }
          },
          "required": [
            "overview",
            "requirements",
            "expenses",
            "pitfalls"
          ]
        }
      },
      "required": [
        "id",
        "name",
        "source_url",
        "deadline",
        "processed_date",
        "industry_tags",
        "summary_for_client",
        "summary_for_accountant"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/subsidies/{subsidyId}",
        "definition": {
          "entityName": "Subsidy",
          "schema": {
            "$ref": "#/backend/entities/Subsidy"
          },
          "description": "Stores subsidy information, including summaries for clients and accountants. The 'subsidyId' is the unique identifier for the subsidy.",
          "params": [
            {
              "name": "subsidyId",
              "description": "The unique identifier for the subsidy."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore structure is designed to securely store and manage subsidy information for Kanagawa Prefecture, catering to both accountants and their clients. The core principle is Authorization Independence, achieved by avoiding `get()` calls in security rules through denormalization. This structure allows atomic operations and simplifies debugging. Segregation ensures all documents in a collection share the same security needs.\n\nThe primary collection is `subsidies`, which stores the main subsidy data. This structure supports the QAPs (Rules are not Filters) by ensuring all data within a collection adheres to the same access control, preventing the need for filtering based on document content within the rules themselves. The design avoids hierarchical authorization dependencies, enhancing security and simplifying maintenance.\n\nThe data clarity is achieved by using explicit state modeling and semantic naming. The structure facilitates efficient data access and management, aligning with the application's requirements for automated information gathering, summarization, and industry tagging."
  },
  "deployment": {
    "firebaseConfig": {
      "projectId": "studio-3197296924-f3365",
      "appId": "1:673276537947:web:63c582fdbf7e957dd0e37e",
      "apiKey": "AIzaSyC37AKOLivEKLF94HM53861lLk2dBk2cVg",
      "authDomain": "studio-3197296924-f3365.firebaseapp.com",
      "measurementId": "",
      "messagingSenderId": "673276537947"
    },
    "googleGenaiApiKey": "AIzaSyCNOmQ8fc8khHACXR4_Sy-dBIZY8p9gYQw"
  }
}

# デプロイに不要なファイル
node_modules
.next
.pnpm-store
pnpm-lock.yaml
package-lock.json
.npmrc
.idx
firebase-debug.log
firebase-debug.*.log
backup.zip
